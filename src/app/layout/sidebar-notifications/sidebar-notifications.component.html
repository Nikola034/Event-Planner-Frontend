<div class="notification-sidebar p-3">
    <h3 class="text-xl font-bold mb-3">Notifications</h3>
    
    <p-tabView [(activeIndex)]="activeTab">
        <p-tabPanel header="Unread">
            <div class="notifications-container">
                <p-card *ngFor="let notification of unreadNotifications"
                        styleClass="mb-3">
                    <div class="flex justify-content-between align-items-start">
                        <!-- Separate clickable area for the main content -->
                        <div class="notification-content cursor-pointer" 
                             (click)="openNotification(notification)">
                            <p style="white-space: pre-line;">{{notification.content}}</p>
                            <small class="text-500">
                                {{notification.date | date:'dd/MM/yyyy HH:mm'}}
                            </small>
                        </div>
                        <!-- Separate button for closing -->
                        <p-button
                                icon="pi pi-times"
                                styleClass="p-button-rounded p-button-text p-button-sm"
                                (click)="$event.stopPropagation(); markAsRead(notification)">
                        </p-button>
                    </div>
                </p-card>
                <div *ngIf="unreadNotifications.length === 0"
                     class="text-center p-3 text-500">
                    No unread notifications
                </div>
            </div>
        </p-tabPanel>
        
        <p-tabPanel header="Read">
            <div class="notifications-container">
                <p-card *ngFor="let notification of readNotifications" 
                        styleClass="mb-3">
                    <div class="notification-content">
                        <p style="white-space: pre-line;">{{notification.content}}</p>
                        <small class="text-500">
                            {{notification.date | date:'dd/MM/yyyy HH:mm'}}
                        </small>
                    </div>
                </p-card>
                <div *ngIf="readNotifications.length === 0" 
                     class="text-center p-3 text-500">
                    No read notifications
                </div>
            </div>
        </p-tabPanel>
    </p-tabView>
</div>
