<div class="flex justify-content-center w-full pt-4">
  <div class="login-form w-23rem h-15rem">
    <div
      class="header bg-primary flex justify-content-center align-items-center h-8rem border-round-top-md"
    >
      <span>
        <i class="pi pi-user text-color" style="font-size: 5rem"></i>
      </span>
    </div>
    <div class="flex w-full content justify-content-center surface-100">
      <form [formGroup]="loginForm" class="flex pt-4 flex-column w-full px-4">
        <div class="field flex justify-content-center">
          <input
            formControlName="email"
            type="text"
            placeholder="E-Mail*"
            class="text-base p-2 w-full border-round-top-xs border-none border-bottom-1 h-3rem surface-50"
            pAutoFocus 
            [autofocus]="true" 
          />
        </div>
        <div class="field flex justify-content-center pb-5">
          <input
            formControlName="password"
            type="password"
            placeholder="Password*"
            class="text-base p-2 w-full border-round-top-xs border-none border-bottom-1 h-3rem surface-50"
          />
        </div>
        <div class="field justify-content-center min-w-full">
          <p-button
            styleClass="min-w-full h-3rem border-noround text-color"
            label="SIGN IN"
            type="submit"
            (click)="login()"
          ></p-button>
        </div>
        <div class="field justify-content-center min-w-full">
          <p-button
            styleClass="min-w-full h-3rem border-noround text-color"
            label="LOGIN AS A GUEST"
            type="submit"
            (click)="guest()"
          ></p-button>
        </div>
        <div
          class="field flex justify-content-center align-items-center pt-1 flex-column w-full"
        >
          <span>Don't have an account?</span>
          <a (click)="showRegisterDialog()" class="pt-1 text-color">Register</a>
        </div>
      </form>
    </div>
  </div>
</div>

<p-dialog
  header="Register As"
  [(visible)]="isDialogVisible"
  [modal]="true"
  [closable]="true"
  [dismissableMask]="true"
  styleClass="w-20rem"
>
  <div class="flex flex-column align-items-center">
    <p>Choose your registration type:</p>
    <div class="flex w-full justify-content-evenly mt-3">
      <button
        pButton
        label="Service provider"
        (click)="register('sp')"
        class="p-button-primary"
      ></button>
      <button
        pButton
        label="Event organizer"
        (click)="register('eo')"
        class="p-button-secondary"
      ></button>
    </div>
  </div>
  <div class="flex w-full justify-content-evenly mt-3">
    <button
      pButton
      label="Fast registration"
      (click)="register('au')"
      class="p-button-secondary"
    ></button>
  </div>
</p-dialog>


<p-dialog 
      [(visible)]="displayErrorDialog" 
      [modal]="true" 
      [closable]="true"
      header="Login Error" 
      [style]="{width: '350px'}"
    >
      <ng-template pTemplate="content">
        <div class="flex flex-column align-items-center">
          <i class="pi pi-exclamation-triangle" style="font-size: 2rem; color: var(--red-500)"></i>
          <p class="mt-3">{{ errorMessage }}</p>
        </div>
      </ng-template>
      <ng-template pTemplate="footer">
        <button 
          pButton 
          label="OK" 
          class="p-button-text" 
          (click)="closeErrorDialog()"
        ></button>
      </ng-template>
    </p-dialog>